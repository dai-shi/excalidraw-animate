/* Under .excalidraw, variables from @excalidraw/excalidraw/index.css take precedence.
   This is a fallback to keep the same appearance for the outer DOM. */
/* === Excalidraw tokens bridge (light defaults) === */
:root {
  --ui-font:
    Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto,
    Helvetica, Arial, sans-serif;

  /* sizes / radii */
  --font-size-sm: 0.75rem;
  --border-radius-lg: 0.5rem;
  --lg-button-size: 2.25rem;
  --lg-icon-size: 1rem;
  --default-button-size: 2rem;
  --default-icon-size: 1rem;

  /* spacing */
  --space-factor: 0.25rem;
}

:root.light {
  /* surfaces / text */
  --color-surface-high: #f1f0ff;
  --color-surface-mid: #f6f6f9;
  --color-surface-low: #ececf4;
  --color-surface-lowest: #ffffff;
  --color-on-surface: #1b1b1f;

  /* primary / brand */
  --color-primary: #6965db;
  --color-primary-darker: #5b57d1;
  --color-primary-darkest: #4a47b1;
  --color-primary-light: #e3e2fe;
  --color-primary-light-darker: #d7d5ff;
  --color-primary-hover: #5753d0;
  --color-on-primary-container: #030064;
  --color-brand-active: #4440bf;
  --color-brand-hover: #5753d0;

  /* inputs / borders */
  --input-bg-color: #ffffff;
  --input-border-color: #ced4da;
  --default-border-color: var(--color-surface-high);

  /* interaction */
  --button-hover-bg: var(--color-surface-high);
  --button-active-bg: var(--color-surface-high);
  --button-active-border: var(--color-brand-active);
}

:root.dark {
  /* surfaces / text */
  --color-surface-high: #2e2d39;
  --color-surface-mid: hsl(240 6% 10%);
  --color-surface-low: hsl(240, 8%, 15%);
  --color-surface-lowest: hsl(0, 0%, 7%);
  --color-on-surface: #e3e3e8;

  /* primary / brand */
  --color-primary: #a8a5ff;
  --color-primary-darker: #b2aeff;
  --color-primary-darkest: #beb9ff;
  --color-primary-light: #4f4d6f;
  --color-primary-light-darker: #43415e;
  --color-primary-hover: #bbb8ff;
  --color-on-primary-container: #e0dfff;
  --color-brand-active: #d0ccff;
  --color-brand-hover: #bbb8ff;

  /* inputs / borders */
  --input-bg-color: #31303b;
  --input-border-color: #444;
  --default-border-color: var(--color-surface-high);

  /* interaction */
  --button-hover-bg: var(--color-surface-high);
  --button-active-bg: var(--color-surface-high);
  --button-active-border: var(--color-brand-active);
}

:root.dark .excalidraw .animate-config {
  /* Direct values because var(--input-bg-color) doesn't resolve here */
  --animate-config-input-bg-color: #31303b;
}

/* Animate panel background: vibrant cyan as requested. Keep inputs readable. */
.excalidraw .animate-config {
  background-color: #efcfd9 !important;
  color: #0b0f12 !important;
  padding: 12px;
  border-radius: 8px;
}

/* Inputs inside the animate panel should remain light for contrast */
.excalidraw .animate-config .app-input {
  background: #ffffff !important;
  color: #0b0f12 !important;
}

/* Make small buttons inside the panel slightly translucent so they are visible
   against the cyan background while keeping global button styles intact. */
.excalidraw .animate-config .app-button {
  background: rgba(255,255,255,0.12) !important;
  color: #ffffff !important;
  box-shadow: none !important;
}

.excalidraw .animate-config .app-button:hover {
  background: rgba(255,255,255,0.18) !important;
}

/* Style the Footer / Sidebar trigger button ("Toggle Animate Panel") inside Excalidraw */
.excalidraw footer button,
.excalidraw .Sidebar__trigger,
.excalidraw .sidebar-trigger,
.excalidraw .Sidebar-Trigger {
  background-color: #ffffff !important;
  color: #0b0f12 !important;
  border: none !important;
  padding: 8px 12px !important;
  border-radius: 8px !important;
  box-shadow: none !important;
}
.excalidraw footer button:hover,
.excalidraw .Sidebar__trigger:hover,
.excalidraw .sidebar-trigger:hover,
.excalidraw .Sidebar-Trigger:hover {
  background-color: #3ac8db !important;
}

/* Make the animate panel scrollable vertically with a visible scrollbar
   that appears inside the panel on the right. Keep the scrollbar narrow
   and styled for WebKit and Firefox. */
.excalidraw .animate-config {
  max-height: calc(100vh - 160px); /* leave room for header/toolbars */
  overflow-y: auto;
  overflow-x: hidden;
}

/* WebKit scrollbar styling */
.excalidraw .animate-config::-webkit-scrollbar {
  width: 10px;
}
.excalidraw .animate-config::-webkit-scrollbar-track {
  background: rgba(0,0,0,0.04);
  border-radius: 6px;
}
.excalidraw .animate-config::-webkit-scrollbar-thumb {
  background-color: rgba(11,15,18,0.2);
  border-radius: 6px;
  border: 2px solid rgba(255,255,255,0.0);
}

/* Firefox scrollbar */
.excalidraw .animate-config {
  scrollbar-width: thin;
  scrollbar-color: rgba(11,15,18,0.2) rgba(0,0,0,0.04);
}

/* Style dropdowns / menus / popovers inside Excalidraw to match requested
   vibrant background. This affects UI panels such as the main menu, export
   menu, and other popovers, not the drawing canvas. */
.excalidraw [role="menu"],
.excalidraw [role="menuitem"],
.excalidraw .dropdown,
.excalidraw .menu,
.excalidraw .popover,
.excalidraw .context-menu,
.excalidraw .menu-panel,
.excalidraw .menu-item,
.excalidraw .dropdown-panel {
  background-color: #f2c7d4 !important;
  color: #0b0f12 !important;
  box-shadow: 0 6px 20px rgba(0,0,0,0.12) !important;
}

.excalidraw .menu-item:hover,
.excalidraw [role="menuitem"]:hover,
.excalidraw .dropdown-panel button:hover {
  background-color: #3ac8db !important;
  color: #0b0f12 !important;
}

/* Ensure links/icons inside menus inherit readable color */
.excalidraw .menu a,
.excalidraw .menu button,
.excalidraw .menu-item svg,
.excalidraw .dropdown-panel svg {
  color: inherit !important;
  fill: currentColor !important;
}

/* Right-side inspector / properties panel styling
   Target common Excalidraw panel/sidebar selectors so the element
   properties panel (shown when an element is selected) uses the
   requested vibrant background while keeping inputs legible. */
.excalidraw .sidebar,
.excalidraw .Sidebar,
.excalidraw .sidebar-right,
.excalidraw .sidebarPanel,
.excalidraw .right-sidebar,
.excalidraw .panel,
.excalidraw .panel-content,
.excalidraw .properties-panel,
.excalidraw .inspector,
.excalidraw .app-sidebar {
  background-color: #ffffff !important;
  color: #0b0f12 !important;
}

/* Keep input controls and sliders readable inside the panel */
.excalidraw .sidebar input,
.excalidraw .sidebar select,
.excalidraw .sidebar textarea,
.excalidraw .panel input,
.excalidraw .panel select,
.excalidraw .panel textarea,
.excalidraw .properties-panel .app-input {
  background: #ffffff !important;
  color: #0b0f12 !important;
}

/* Buttons inside the right panel */
.excalidraw .sidebar .app-button,
.excalidraw .panel .app-button,
.excalidraw .properties-panel .app-button {
  background: rgba(255,255,255,0.12) !important;
  color: #ffffff !important;
  box-shadow: none !important;
}
.excalidraw .sidebar .app-button:hover,
.excalidraw .panel .app-button:hover,
.excalidraw .properties-panel .app-button:hover {
  background: rgba(255,255,255,0.18) !important;
}

/* Ensure divider lines and small UI accents remain visible */
.excalidraw .sidebar hr,
.excalidraw .panel hr,
.excalidraw .properties-panel hr {
  border-color: rgba(11,15,18,0.08) !important;
}

/* Left-side element properties / tools panel
   Target common left-panel class names so the panel shown when an
   element is clicked uses the requested vibrant background. Keep
   controls readable like inputs, buttons and sliders. */
.excalidraw .left-sidebar,
.excalidraw .left-panel,
.excalidraw .sidebar-left,
.excalidraw .leftbar,
.excalidraw .left-panel-content,
.excalidraw .panel-left,
.excalidraw .tools-panel {
  background-color: #ffffff !important;
  color: #0b0f12 !important;
}

.excalidraw .left-sidebar input,
.excalidraw .left-panel input,
.excalidraw .left-sidebar select,
.excalidraw .left-panel select,
.excalidraw .left-sidebar textarea,
.excalidraw .left-panel textarea,
.excalidraw .left-panel .app-input {
  background: #ffffff !important;
  color: #0b0f12 !important;
}

.excalidraw .left-sidebar .app-button,
.excalidraw .left-panel .app-button,
.excalidraw .left-panel .app-button {
  background: rgba(255,255,255,0.12) !important;
  color: #ffffff !important;
  box-shadow: none !important;
}
.excalidraw .left-sidebar .app-button:hover,
.excalidraw .left-panel .app-button:hover,
.excalidraw .left-panel .app-button:hover {
  background: rgba(255,255,255,0.18) !important;
}

/* scrollbar for left panel (if present) */
.excalidraw .left-panel,
.excalidraw .left-sidebar {
  max-height: calc(100vh - 120px);
  overflow-y: auto;
  scrollbar-width: thin;
}

html,
body,
#root {
  background: var(--color-surface-lowest);
}

body {
  margin: 0;
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',
    'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family:
    source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

.Viewer-container svg {
  width: 100%;
  height: 100%;
}

.GitHubCorner-container:hover .GitHubCorner-octo-arm {
  animation: GitHubCorner-octocat-wave 560ms ease-in-out;
}

@keyframes GitHubCorner-octocat-wave {
  0%,
  100% {
    transform: rotate(0);
  }
  20%,
  60% {
    transform: rotate(-25deg);
  }
  40%,
  80% {
    transform: rotate(10deg);
  }
}

@media (max-width: 500px) {
  .GitHubCorner-container:hover .GitHubCorner-octo-arm {
    animation: none;
  }
  .GitHubCorner-octo-arm {
    animation: GitHubCorner-octocat-wave 560ms ease-in-out;
  }
}

@media (max-width: 300px) {
  .GitHubCorner-container {
    display: none;
  }
}

/* Excalidraw styles: colors, size, border radius for outer DOM */
.app-button {
  height: var(--lg-button-size);
  padding: 0 0.625rem;
  line-height: 0;
  background: var(--color-surface-low);
  border: none; /* Excalidraw often uses a 1px outline shadow instead of a border */
  border-radius: var(--border-radius-lg);
  color: var(--color-on-surface);
  box-shadow: 0 0 0 1px var(--color-surface-lowest);

  font-family: var(--ui-font);
  font-size: var(--font-size-sm);
  letter-spacing: 0.4px;
  cursor: pointer;
}

.app-button-compact {
  height: calc(var(--default-button-size) * 0.5);
  z-index: 10;
}

.app-button[disabled],
.app-button[aria-disabled='true'] {
  opacity: 0.5;
  border-color: var(--default-border-color);
  cursor: not-allowed;
  pointer-events: none;
}

.app-button:hover {
  background: var(--button-hover-bg);
}
.app-button:active {
  background: var(--button-active-bg);
}

/* Dark mode: brighten only the 'File...' button in AnimateConfig for better contrast */
:root.dark .excalidraw .animate-config label[for='pointerFile'].app-button {
  background: hsl(240 8% 20%);
  box-shadow: 0 0 0 1px hsl(240 8% 25%);
}

.app-input {
  height: var(--lg-button-size);
  box-sizing: border-box;
  border: 1.5px solid var(--input-border-color);
  border-radius: var(--space-factor);
  font-size: var(--font-size-sm);
  min-width: 200px;
  background: var(--animate-config-input-bg-color, var(--input-bg-color));
  color: var(--color-on-surface);
}

.app-input:not(:focus):hover {
  border-color: var(--color-brand-hover);
}
.app-input:focus {
  outline: none;
  border-color: var(--color-brand-hover);
}

.toolbar {
  min-height: var(--lg-button-size);
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
  row-gap: 0.5rem;
  padding-block: 1rem 0; /* top and bottom */
  padding-inline: 3rem;
  transition: opacity 0.2s ease;
}

.kbd-badge {
  display: inline-block;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(0,0,0,0.06);
  color: var(--color-on-surface);
  font-size: 11px;
  vertical-align: middle;
}

.toolbar form {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Hidden state: keeps height, disables interaction, and only hides visually */
.toolbar--hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 11;
}

.modal-panel {
  background: var(--color-surface-lowest);
  color: var(--color-on-surface);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
  padding: 1rem;
  min-width: 320px;
  font-family: var(--ui-font);
}
:root.dark .modal-panel {
  background: var(--color-surface-high);
}

.modal-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.5rem 0;
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  margin-top: 1rem;
}

.app-button--primary {
  background: var(--color-primary);
  color: #ffffff;
  box-shadow: none;
  font-weight: 600;
}
.app-button--primary:hover,
.app-button--primary:active {
  background: var(--color-primary);
  color: #ffffff;
  cursor: pointer;
}
:root.dark .app-button--primary,
:root.dark .app-button--primary:hover,
:root.dark .app-button--primary:active {
  color: #000000;
}

/* ------------------------------------------------------------------
   Global UI button theme override
   - Make button text/notations (labels, numbers, icons) light for contrast
   - Make button surfaces use the vibrant brand color `#161B7F`
   - Do NOT affect the whiteboard/drawn SVG elements inside the
     Excalidraw canvas: Excalidraw-specific buttons will be preserved
     by the `.excalidraw` selector below.
   ------------------------------------------------------------------ */

/* Apply to standard buttons and Excalidraw-styled `.app-button` variants */
button,
.app-button,
input[type="button"],
input[type="submit"],
.app-button--primary {
  background-color: #f1dbe2 !important;
  color: #080404 !important;
  border: none !important;
  box-shadow: none !important;
}

/* Ensure icons inside buttons inherit the text color */
button svg,
.app-button svg,
button i,
.app-button i {
  fill: currentColor !important;
  stroke: currentColor !important;
  color: inherit !important;
}

/* Hover / active states: slightly darker variant for affordance */
button:hover,
.app-button:hover,
.app-button--primary:hover {
  background-color: #f1cada !important;
}

/* Focus outline for accessibility */
button:focus,
.app-button:focus {
  outline: 3px solid rgba(255,190,211,0.18);
  outline-offset: 2px;
}

/* Preserve any buttons rendered inside the Excalidraw whiteboard container
   so drawn elements and in-canvas controls are not restyled by this rule. */
.excalidraw button,
.excalidraw .app-button {
  background: initial !important;
  color: initial !important;
  box-shadow: initial !important;
  border: none !important;
}

/* Ensure panel and sidebar buttons inside the Excalidraw UI use the
   requested accent color. This override comes after the generic
   Excalidraw reset above so it takes precedence for UI panels. */
.excalidraw .sidebar .app-button,
.excalidraw .panel .app-button,
.excalidraw .properties-panel .app-button,
.excalidraw .left-sidebar .app-button,
.excalidraw .left-panel .app-button,
.excalidraw .left-panel .app-button,
.excalidraw .panel .app-button,
.excalidraw .Sidebar__trigger,
.excalidraw .sidebar-trigger,
.excalidraw .Sidebar-Trigger,
.excalidraw footer button {
  background-color: #edd4dc !important;
  color: #ffffff !important;
  box-shadow: none !important;
  border: none !important;
}
.excalidraw .sidebar .app-button:hover,
.excalidraw .panel .app-button:hover,
.excalidraw .properties-panel .app-button:hover,
.excalidraw .left-sidebar .app-button:hover,
.excalidraw .left-panel .app-button:hover,
.excalidraw .Sidebar__trigger:hover,
.excalidraw .sidebar-trigger:hover,
.excalidraw .Sidebar-Trigger:hover,
.excalidraw footer button:hover {
  background-color: #ff9fc6 !important;
  color: #ffffff !important;
}

